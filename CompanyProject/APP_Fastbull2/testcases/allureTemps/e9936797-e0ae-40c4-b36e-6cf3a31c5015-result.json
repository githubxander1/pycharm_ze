{"name": "test_home_search_all", "status": "broken", "statusDetails": {"message": "packaging.version.InvalidVersion: Invalid version: ''", "trace": "self = <uiautomator2.Device object at 0x000002B509F3A590>\nargs = ('dumpWindowHierarchy', (False, None), 60), kwargs = {}\n\n    def _jsonrpc_retry_call(self, *args, **kwargs):\n        try:\n>           return self._jsonrpc_call(*args, **kwargs)\n\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:486: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <uiautomator2.Device object at 0x000002B509F3A590>\nmethod = 'dumpWindowHierarchy', params = (False, None), http_timeout = 60\n\n    def _jsonrpc_call(self, method, params=[], http_timeout=60):\n        \"\"\" jsonrpc2 call\n        Refs:\n            - http://www.jsonrpc.org/specification\n    \n        Raises:\n            出现的错误一般有2大类: 正常的请求错误 和 服务端异常\n            这里的代码主要是将这两大类错误正常归类\n        \"\"\"\n        request_start = time.time()\n        data = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": self._jsonrpc_id(method),\n            \"method\": method,\n            \"params\": params,\n        }\n        data = json.dumps(data)\n        res = self.http.post(\"/jsonrpc/0\",\n                             headers={\"Content-Type\": \"application/json\"},\n                             data=data,\n                             timeout=http_timeout)\n    \n        if res.status_code == 502:\n>           raise GatewayError(\n                res, \"gateway error, time used %.1fs\" %\n                (time.time() - request_start))\nE           uiautomator2.exceptions.GatewayError: (<Response [502]>, 'gateway error, time used 0.1s')\n\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:519: GatewayError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <CompanyProject.UI_U2_Forexchat.testcases.test_home_search.Test_home_search object at 0x000002B50A10D150>\n\n    @pytest.mark.run(order=1)\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.feature('搜索全部')\n    def test_home_search_all(self):\n        text='all'\n        with allure.step('点击首页搜索框'):\n>           home_search().search_all(text)\n\ntest_home_search.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\operation\\home\\home_search.py:32: in search_all\n    self.click_searchBox_out()\n..\\operation\\home\\home_search.py:13: in click_searchBox_out\n    self.searchBox_out.click()\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:595: in click\n    el = self.get(timeout=timeout)\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:523: in get\n    if not self.wait(timeout or self._global_timeout):\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:559: in wait\n    if self.exists:\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:508: in exists\n    return len(self.all()) > 0\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:449: in all\n    xml_content = source or self._source or self._parent.dump_hierarchy()\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py:178: in dump_hierarchy\n    self._last_source = self._d.dump_hierarchy()\nC:\\Python311\\Lib\\site-packages\\decorator.py:232: in fun\n    return caller(func, *(extras + args), **kw)\nC:\\Python311\\Lib\\site-packages\\retry\\api.py:73: in retry_decorator\n    return __retry_internal(partial(f, *args, **kwargs), exceptions, tries, delay, max_delay, backoff, jitter,\nC:\\Python311\\Lib\\site-packages\\retry\\api.py:33: in __retry_internal\n    return f()\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:978: in dump_hierarchy\n    content = self.jsonrpc.dumpWindowHierarchy(compressed, None)\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:479: in __call__\n    return self.server._jsonrpc_retry_call(self.method, params,\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:488: in _jsonrpc_retry_call\n    self.reset_uiautomator(str(e))  # uiautomator可能出问题了，强制重启一下\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:640: in reset_uiautomator\n    ok = self._force_reset_uiautomator_v2(\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:667: in _force_reset_uiautomator_v2\n    if self._is_apk_required():\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:711: in _is_apk_required\n    if self._package_version(\"com.github.uiautomator.test\") is None:\nC:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py:735: in _package_version\n    return packaging.version.parse(m.group('name') if m else \"\")\nC:\\Python311\\Lib\\site-packages\\packaging\\version.py:54: in parse\n    return Version(version)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <[AttributeError(\"'Version' object has no attribute '_version'\") raised in repr()] Version object at 0x2b509ada2d0>\nversion = ''\n\n    def __init__(self, version: str) -> None:\n        \"\"\"Initialize a Version object.\n    \n        :param version:\n            The string representation of a version which will be parsed and normalized\n            before use.\n        :raises InvalidVersion:\n            If the ``version`` does not conform to PEP 440 in any way then this\n            exception will be raised.\n        \"\"\"\n    \n        # Validate the version and parse it into pieces\n        match = self._regex.search(version)\n        if not match:\n>           raise InvalidVersion(f\"Invalid version: '{version}'\")\nE           packaging.version.InvalidVersion: Invalid version: ''\n\nC:\\Python311\\Lib\\site-packages\\packaging\\version.py:200: InvalidVersion"}, "steps": [{"name": "点击首页搜索框", "status": "broken", "statusDetails": {"message": "packaging.version.InvalidVersion: Invalid version: ''\n", "trace": "  File \"D:\\1test\\PycharmProject1\\pycharm_ze\\CompanyProject\\UI_U2_Forexchat\\testcases\\test_home_search.py\", line 36, in test_home_search_all\n    home_search().search_all(text)\n  File \"D:\\1test\\PycharmProject1\\pycharm_ze\\CompanyProject\\UI_U2_Forexchat\\operation\\home\\home_search.py\", line 32, in search_all\n    self.click_searchBox_out()\n  File \"D:\\1test\\PycharmProject1\\pycharm_ze\\CompanyProject\\UI_U2_Forexchat\\operation\\home\\home_search.py\", line 13, in click_searchBox_out\n    self.searchBox_out.click()\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 595, in click\n    el = self.get(timeout=timeout)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 523, in get\n    if not self.wait(timeout or self._global_timeout):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 559, in wait\n    if self.exists:\n       ^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 508, in exists\n    return len(self.all()) > 0\n               ^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 449, in all\n    xml_content = source or self._source or self._parent.dump_hierarchy()\n                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\xpath.py\", line 178, in dump_hierarchy\n    self._last_source = self._d.dump_hierarchy()\n                        ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\decorator.py\", line 232, in fun\n    return caller(func, *(extras + args), **kw)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\retry\\api.py\", line 73, in retry_decorator\n    return __retry_internal(partial(f, *args, **kwargs), exceptions, tries, delay, max_delay, backoff, jitter,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\retry\\api.py\", line 33, in __retry_internal\n    return f()\n           ^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 978, in dump_hierarchy\n    content = self.jsonrpc.dumpWindowHierarchy(compressed, None)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 479, in __call__\n    return self.server._jsonrpc_retry_call(self.method, params,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 488, in _jsonrpc_retry_call\n    self.reset_uiautomator(str(e))  # uiautomator可能出问题了，强制重启一下\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 640, in reset_uiautomator\n    ok = self._force_reset_uiautomator_v2(\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 667, in _force_reset_uiautomator_v2\n    if self._is_apk_required():\n       ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 711, in _is_apk_required\n    if self._package_version(\"com.github.uiautomator.test\") is None:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\uiautomator2\\__init__.py\", line 735, in _package_version\n    return packaging.version.parse(m.group('name') if m else \"\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\packaging\\version.py\", line 54, in parse\n    return Version(version)\n           ^^^^^^^^^^^^^^^^\n  File \"C:\\Python311\\Lib\\site-packages\\packaging\\version.py\", line 200, in __init__\n    raise InvalidVersion(f\"Invalid version: '{version}'\")\n"}, "start": 1702550832903, "stop": 1702550834899}], "attachments": [{"name": "log", "source": "5803cb24-2a1a-4566-97cd-1c19945178fa-attachment.txt", "type": "text/plain"}], "start": 1702550832901, "stop": 1702550834915, "uuid": "9af15474-1701-40d2-b9c6-43313562a6da", "historyId": "f16c9f374ed3104d84d3b17c4ebe3f74", "testCaseId": "f16c9f374ed3104d84d3b17c4ebe3f74", "fullName": "testcases.test_home_search.Test_home_search#test_home_search_all", "labels": [{"name": "feature", "value": "搜索全部"}, {"name": "severity", "value": "normal"}, {"name": "tag", "value": "run(order=1)"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_home_search"}, {"name": "subSuite", "value": "Test_home_search"}, {"name": "host", "value": "PS-03"}, {"name": "thread", "value": "9136-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_home_search"}]}